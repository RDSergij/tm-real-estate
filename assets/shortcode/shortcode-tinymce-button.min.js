!function(){var t;tinymce.PluginManager.add("tm_shortcodes",function(e){jQuery.each(TMPageSettings.shortcodes,function(o){e.addButton(TMPageSettings.shortcodes[o],{text:TMPageSettings.shortcodes[o],image:"undefined"!=typeof t?t.image:"",onclick:function(){t=TMPageSettings.shortcodes_views[TMPageSettings.shortcodes[o]],console.log(t,TMPageSettings.shortcodes[o]),TMPageSettings.shortcodes_views[TMPageSettings.shortcodes[o]]?e.windowManager.open({id:TMPageSettings.shortcodes[o],title:t.title,body:t.body,width:t.width,height:t.height,buttons:[{text:"Submit",onclick:"submit"},{text:"Cancel",onclick:"close"}],onsubmit:function(t){attr=t.data,shortcode="["+TMPageSettings.shortcodes[o];for(var e in attr)attr[e]&&(shortcode+=" "+e+'="'+attr[e]+'"');shortcode+="]",tinyMCE.activeEditor.selection.setContent(shortcode)}}):tinyMCE.activeEditor.selection.setContent("["+TMPageSettings.shortcodes[o]+"]"),jQuery('[type="number"]').attr("min","0")}})})})}();